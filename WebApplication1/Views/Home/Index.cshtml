@{
    ViewData["Title"] = "Home Page";
    int cnt = 0;
}

<style type="text/css">
    /* The Modal (background) */
    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        padding-top: 100px; /* Location of the box */
        left: 0;
        top: 0;
        /*width: 100%;*/ /* Full width */
        /*height: 100%;*/ /* Full height */
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal Content */
    .modal-content {
        background-color: #FFFFFF;
        /*background-color: rgba(0,0,0,.0001) !important;*/
        margin: auto;
        padding: 0px;
        border: 1px solid #888;
    }

    .modal-width-pc {
        width: 35%;
    }

    .modal-width-mb {
        width: 80%;
    }

    /* The Close Button */
    .close {
        color: #aaaaaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }

    .center {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
</style>

@*<div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="6000">
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>
    <div class="carousel-inner" role="listbox">
        <div class="item active">
            <img src="~/images/banner1.svg" alt="ASP.NET" class="img-responsive" />
            <div class="carousel-caption" role="option">
                <p>
                    Learn how to build ASP.NET apps that can run anywhere.
                    <a class="btn btn-default" href="https://go.microsoft.com/fwlink/?LinkID=525028&clcid=0x409">
                        Learn More
                    </a>
                </p>
            </div>
        </div>
        <div class="item">
            <img src="~/images/banner2.svg" alt="Visual Studio" class="img-responsive" />
            <div class="carousel-caption" role="option">
                <p>
                    There are powerful new features in Visual Studio for building modern web apps.
                    <a class="btn btn-default" href="https://go.microsoft.com/fwlink/?LinkID=525030&clcid=0x409">
                        Learn More
                    </a>
                </p>
            </div>
        </div>
        <div class="item">
            <img src="~/images/banner3.svg" alt="Microsoft Azure" class="img-responsive" />
            <div class="carousel-caption" role="option">
                <p>
                    Learn how Microsoft's Azure cloud platform allows you to build, deploy, and scale web apps.
                    <a class="btn btn-default" href="https://go.microsoft.com/fwlink/?LinkID=525027&clcid=0x409">
                        Learn More
                    </a>
                </p>
            </div>
        </div>
    </div>
    <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>*@

<br />




<div class="container">

    <!-- Start Video Section -->
    <div class="row">

        <table>
            <tr>
                <td><div id="back_bn"><img src="~/images/bn2.png" height="30px" /></div></td>
                <td>

                    @foreach (System.Data.DataRow dr in ViewBag.dt.Rows)
                    {

                        string video_id = dr["videoLink"].ToString().Replace("https://www.youtube.com/watch?v=", "");
                        string strTitle = dr["title"].ToString();

                        if (cnt == 0)
                        {
                            <div class="col-sm-3" id="video0">

                                <input type="image" id="pic0" src="https://img.youtube.com/vi/@video_id/mqdefault.jpg" class="video-btn pic_video" data-src="@video_id" onClick="video_click(this.id)" />
                                @strTitle

                            </div>
                        }

                        if (cnt == 1)
                        {
                            <div class="col-sm-3" id="video1">

                                <input type="image" src="https://img.youtube.com/vi/@video_id/mqdefault.jpg" class="video-btn pic_video" data-toggle="modal" data-src="https://www.youtube.com/embed/@video_id/3YZ3KDxT2mg" data-target="#myModal" />
                                @strTitle

                            </div>
                        }

                        if (cnt == 2)
                        {
                            <div class="col-sm-3" id="video2">

                                <input type="image" src="https://img.youtube.com/vi/@video_id/mqdefault.jpg" class="video-btn pic_video" data-toggle="modal" data-src="https://www.youtube.com/embed/@video_id/3YZ3KDxT2mg" data-target="#myModal" />
                                @strTitle

                            </div>
                        }

                        if (cnt == 3)
                        {
                            <div class="col-sm-3" id="video3">

                                <input type="image" src="https://img.youtube.com/vi/@video_id/mqdefault.jpg" class="video-btn pic_video" data-toggle="modal" data-src="https://www.youtube.com/embed/@video_id/3YZ3KDxT2mg" data-target="#myModal" />
                                @strTitle

                            </div>
                        }

                        cnt = cnt + 1;
                    }

                </td>
                <td><div id="next_bn"><img src="~/images/nx2.png" height="30px" /></div></td>
            </tr>
        </table>

    </div>
    <!-- End Video Section -->
    <!-- Trigger/Open The Modal -->
    <div class="row">

        <div class="col-sm-12">

            <button id="myBtn">Open Modal</button>

        </div>

    </div>

    <br />

    <!-- Start Stat Section -->
    <div class="row">

        <div class="col-sm-12">

            <p>Stats:</p>
            <p>Resize the browser window to fire the <code>resize</code> event.</p>
            <p>Window height: <span id="height"></span></p>
            <p>Window width: <span id="width"></span></p>
            <p>current video: <span id="current">1</span></p>

        </div>

    </div>
    <!-- End Stat Section -->
    <!-- The Modal -->
    <div id="myModal" class="modal">

        <!-- Modal content -->
        <div class="modal-content center" id="modal_content" style="width:60%">
            <span class="close">&times;</span>
            @*<p>Some text in the Modal..123</p>*@
            @*<p id="link_id">Video ID: Y-4KrQXH4kU (Default)</p>*@

            <!-- 16:9 aspect ratio -->
            <div class="embed-responsive embed-responsive-16by9">
                <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/Y-4KrQXH4kU" id="embed_video" allowscriptaccess="always" allow="autoplay"></iframe>
            </div>

        </div>

    </div>
</div>

    <script type="text/javascript">
        
        $(document).ready(function () {

            reportWindowSize();

            function reportWindowSize() {
                const heightOutput = document.querySelector('#height');
                const widthOutput = document.querySelector('#width');
                heightOutput.textContent = window.innerHeight;
                widthOutput.textContent = window.innerWidth;

                if (window.innerWidth < 400) {

                    $("#video0").hide();
                    $("#video1").hide();
                    $("#video2").hide();
                    $("#video3").hide();
                    $("#back_bn").show();
                    $("#next_bn").show();
                    //document.getElementById("modal_content").style.width = "80%";
                } else {
                    $("#video0").show();
                    $("#video1").show();
                    $("#video2").show();
                    $("#video3").show();
                    $("#back_bn").hide();
                    $("#next_bn").hide();
                    //document.getElementById("modal_content").style.width = "35%";
                }

                if ($("#current").text() == 0) {
                    $("#video0").show();
                } else if ($("#current").text() == 1){
                    $("#video1").show();
                } else if ($("#current").text() == 2){
                    $("#video2").show();
                } else if ($("#current").text() == 3) {
                    $("#video3").show();
                }

            }

            window.onresize = reportWindowSize;
            
        });

        function video_click(clicked_id) {

            var tmp = document.getElementById(clicked_id).getAttribute("data-src");
            //var text_id = "Video ID: " + tmp;
            var text_embed = "https://www.youtube.com/embed/" + tmp + "?autoplay=1";

            //document.getElementById("link_id").innerHTML = text_id;
            document.getElementById("embed_video").src = text_embed;

            modal.style.display = "block";
        }

        $("#back_bn").click(function () {
            if ($("#current").text() == 0) {
                $("#video0").hide();
                $("#video1").hide();
                $("#video2").hide();
                $("#video3").show();
                $("#current").text('3');
            } else if ($("#current").text() == 1) {
                $("#video0").show();
                $("#video1").hide();
                $("#video2").hide();
                $("#video3").hide();
                $("#current").text('0');
            } else if ($("#current").text() == 2) {
                $("#video0").hide();
                $("#video1").show();
                $("#video2").hide();
                $("#video3").hide();
                $("#current").text('1');
            } else if ($("#current").text() == 3) {
                $("#video0").hide();
                $("#video1").hide();
                $("#video2").show();
                $("#video3").hide();
                $("#current").text('2');
            }
        });

        $("#next_bn").click(function () {
            if ($("#current").text() == 0) {
                $("#video0").hide();
                $("#video1").show();
                $("#video2").hide();
                $("#video3").hide();
                $("#current").text('1');
            } else if ($("#current").text() == 1) {
                $("#video0").hide();
                $("#video1").hide();
                $("#video2").show();
                $("#video3").hide();
                $("#current").text('2');
            } else if ($("#current").text() == 2) {
                $("#video0").hide();
                $("#video1").hide();
                $("#video2").hide();
                $("#video3").show();
                $("#current").text('3');
            } else if ($("#current").text() == 3) {
                $("#video0").show();
                $("#video1").hide();
                $("#video2").hide();
                $("#video3").hide();
                $("#current").text('0');
            }
        });

        // Get the modal
        var modal = document.getElementById("myModal");

        // Get the button that opens the modal
        var btn = document.getElementById("myBtn");

        // Get the <span> element that closes the modal
        var span = document.getElementsByClassName("close")[0];

        // When the user clicks the button, open the modal 
        btn.onclick = function () {
            modal.style.display = "block";
        }

        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modal.style.display = "none";
        }

        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target == modal) {
                modal.style.display = "none";
            }
        }

    </script>
